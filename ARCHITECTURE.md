# IntelliPDF é¡¹ç›®æ¶æ„æ–‡æ¡£

## ğŸ“ æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·ç•Œé¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  PDFé˜…è¯»å™¨   â”‚  â”‚  AIå¯¹è¯ç•Œé¢  â”‚  â”‚  çŸ¥è¯†å›¾è°±    â”‚          â”‚
â”‚  â”‚  (React)     â”‚  â”‚  (WebSocket) â”‚  â”‚  (D3.js)     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APIç½‘å…³å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  FastAPI Router (CORS, Auth, Rate Limiting)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä¸šåŠ¡é€»è¾‘å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PDFå¤„ç†   â”‚  â”‚ AIæœåŠ¡    â”‚  â”‚ çŸ¥è¯†ç®¡ç†  â”‚  â”‚ ç”¨æˆ·ç®¡ç†  â”‚  â”‚
â”‚  â”‚ Service   â”‚  â”‚ Service   â”‚  â”‚ Service   â”‚  â”‚ Service   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ•°æ®è®¿é—®å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Repository â”‚  â”‚Repository â”‚  â”‚Repository â”‚  â”‚Repository â”‚  â”‚
â”‚  â”‚ (Document)â”‚  â”‚ (Chunk)   â”‚  â”‚(Knowledge)â”‚  â”‚  (User)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å­˜å‚¨å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚PostgreSQLâ”‚  â”‚ ChromaDB â”‚  â”‚  Redis   â”‚  â”‚LocalFile â”‚      â”‚
â”‚  â”‚(å…³ç³»æ•°æ®)â”‚  â”‚(å‘é‡æ•°æ®)â”‚  â”‚  (ç¼“å­˜)  â”‚  â”‚ Storage  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å¤–éƒ¨æœåŠ¡                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  OpenAI API  â”‚              â”‚  å…¶ä»–AIæœåŠ¡  â”‚               â”‚
â”‚  â”‚(GPT-4, Embed)â”‚              â”‚   (å¯é€‰)     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ åç«¯åˆ†å±‚æ¶æ„

### 1. æ ¸å¿ƒå±‚ (Core)

**èŒè´£**: æä¾›è·¨å±‚æ¬¡çš„åŸºç¡€è®¾æ–½å’Œå·¥å…·

```
app/core/
â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†(Pydantic Settings)
â”œâ”€â”€ logging.py         # ç»“æ„åŒ–æ—¥å¿—(Loguru)
â”œâ”€â”€ exceptions.py      # å¼‚å¸¸ä½“ç³»
â”œâ”€â”€ dependencies.py    # ä¾èµ–æ³¨å…¥
â””â”€â”€ security.py        # å®‰å…¨å·¥å…·(JWT, Hash)
```

**è®¾è®¡åŸåˆ™**:
- å•ä¾‹æ¨¡å¼ (é…ç½®)
- ä¾èµ–æ³¨å…¥ (FastAPI Depends)
- åˆ†å±‚å¼‚å¸¸ (ä¸šåŠ¡ â†’ æŠ€æœ¯)

### 2. æ¨¡å‹å±‚ (Models)

**èŒè´£**: å®šä¹‰æ•°æ®ç»“æ„å’ŒéªŒè¯è§„åˆ™

```
app/models/
â”œâ”€â”€ domain/            # é¢†åŸŸæ¨¡å‹(ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ document.py   # æ–‡æ¡£é¢†åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ chunk.py      # åˆ†å—é¢†åŸŸæ¨¡å‹
â”‚   â””â”€â”€ knowledge.py  # çŸ¥è¯†å›¾è°±æ¨¡å‹
â””â”€â”€ db/               # æ•°æ®åº“æ¨¡å‹(æŒä¹…åŒ–)
    â”œâ”€â”€ base.py       # Base + Mixins
    â””â”€â”€ models.py     # SQLAlchemyæ¨¡å‹
```

**è®¾è®¡åŸåˆ™**:
- é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD)
- ä¸šåŠ¡é€»è¾‘ä¸æŒä¹…åŒ–åˆ†ç¦»
- PydanticéªŒè¯

### 3. æœåŠ¡å±‚ (Services)

**èŒè´£**: å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

```
app/services/
â”œâ”€â”€ pdf/              # PDFå¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ parser.py     # PDFè§£æ
â”‚   â”œâ”€â”€ extraction.py # å†…å®¹æå–
â”‚   â””â”€â”€ chunking.py   # æ™ºèƒ½åˆ†å—
â”œâ”€â”€ ai/               # AIæœåŠ¡
â”‚   â”œâ”€â”€ llm.py        # å¤§è¯­è¨€æ¨¡å‹
â”‚   â”œâ”€â”€ embeddings.py # å‘é‡åµŒå…¥
â”‚   â””â”€â”€ retrieval.py  # æ£€ç´¢å¢å¼º
â””â”€â”€ knowledge/        # çŸ¥è¯†ç®¡ç†
    â”œâ”€â”€ graph.py      # çŸ¥è¯†å›¾è°±
    â”œâ”€â”€ bookmarks.py  # ä¹¦ç­¾ç®¡ç†
    â””â”€â”€ analysis.py   # å†…å®¹åˆ†æ
```

**è®¾è®¡æ¨¡å¼**:
- ç­–ç•¥æ¨¡å¼ (å¤šç§PDFè§£æå™¨)
- å·¥å‚æ¨¡å¼ (æœåŠ¡å®ä¾‹åŒ–)
- è´£ä»»é“¾æ¨¡å¼ (å¤„ç†ç®¡é“)

### 4. APIå±‚ (API)

**èŒè´£**: æš´éœ²HTTPæ¥å£

```
app/api/
â””â”€â”€ v1/
    â”œâ”€â”€ endpoints/
    â”‚   â”œâ”€â”€ documents.py  # æ–‡æ¡£CRUD
    â”‚   â”œâ”€â”€ chat.py       # å¯¹è¯æ¥å£
    â”‚   â”œâ”€â”€ bookmarks.py  # ä¹¦ç­¾æ¥å£
    â”‚   â””â”€â”€ health.py     # å¥åº·æ£€æŸ¥
    â”œâ”€â”€ dependencies/
    â”‚   â”œâ”€â”€ database.py   # DBä¾èµ–
    â”‚   â”œâ”€â”€ auth.py       # è®¤è¯ä¾èµ–
    â”‚   â””â”€â”€ validation.py # éªŒè¯ä¾èµ–
    â””â”€â”€ router.py         # è·¯ç”±èšåˆ
```

**è®¾è®¡åŸåˆ™**:
- RESTfulè§„èŒƒ
- æ ‡å‡†åŒ–å“åº”æ ¼å¼
- è‡ªåŠ¨APIæ–‡æ¡£

### 5. åŸºç¡€è®¾æ–½å±‚ (Infrastructure)

**èŒè´£**: æä¾›æŠ€æœ¯åŸºç¡€è®¾æ–½

```
app/infrastructure/
â”œâ”€â”€ database/
â”‚   â””â”€â”€ session.py    # æ•°æ®åº“ä¼šè¯ç®¡ç†
â”œâ”€â”€ vector_db/
â”‚   â””â”€â”€ client.py     # ChromaDBå®¢æˆ·ç«¯
â””â”€â”€ file_storage/
    â””â”€â”€ local.py      # æœ¬åœ°æ–‡ä»¶å­˜å‚¨
```

**è®¾è®¡æ¨¡å¼**:
- ä»“å‚¨æ¨¡å¼ (Repository)
- å•ä¾‹æ¨¡å¼ (è¿æ¥æ± )
- é€‚é…å™¨æ¨¡å¼ (å­˜å‚¨æŠ½è±¡)

## ğŸ”„ æ•°æ®æµç¤ºä¾‹

### PDFä¸Šä¼ å’Œå¤„ç†æµç¨‹

```
1. ç”¨æˆ·ä¸Šä¼ PDF
   â†“
2. APIæ¥æ”¶è¯·æ±‚ (documents.py)
   â†“
3. æ–‡ä»¶éªŒè¯å’Œå­˜å‚¨ (LocalFileStorage)
   â†“
4. åˆ›å»ºDocumentè®°å½• (DocumentRepository)
   â†“
5. å¼‚æ­¥ä»»åŠ¡: PDFè§£æ (PDFParser)
   â†“
6. å†…å®¹æå– (ContentExtractor)
   â”œâ”€ æ–‡æœ¬æå–
   â”œâ”€ å›¾åƒæå–
   â”œâ”€ è¡¨æ ¼æå–
   â””â”€ ä»£ç æå–
   â†“
7. æ™ºèƒ½åˆ†å— (SemanticChunker)
   â”œâ”€ ç»“æ„åŒ–åˆ†å—
   â”œâ”€ è¯­ä¹‰åˆ†å—
   â””â”€ è´¨é‡è¯„ä¼°
   â†“
8. ç”Ÿæˆå‘é‡åµŒå…¥ (EmbeddingService)
   â†“
9. å­˜å‚¨åˆ°ChromaDB (VectorRepository)
   â†“
10. æ›´æ–°DocumentçŠ¶æ€
   â†“
11. è¿”å›å¤„ç†ç»“æœ
```

### AIå¯¹è¯æµç¨‹

```
1. ç”¨æˆ·å‘é€é—®é¢˜
   â†“
2. WebSocketæ¥æ”¶ (chat.py)
   â†“
3. å‘é‡æ£€ç´¢ç›¸å…³å†…å®¹ (RetrievalService)
   â”œâ”€ æŸ¥è¯¢å‘é‡åŒ–
   â”œâ”€ ç›¸ä¼¼åº¦æœç´¢
   â””â”€ é‡æ’åº
   â†“
4. æ„å»ºä¸Šä¸‹æ–‡ (ContextBuilder)
   â†“
5. è°ƒç”¨LLM (LLMService)
   â”œâ”€ Promptå·¥ç¨‹
   â”œâ”€ æµå¼ç”Ÿæˆ
   â””â”€ Tokenç®¡ç†
   â†“
6. å­˜å‚¨å¯¹è¯å†å² (ChatRepository)
   â†“
7. æµå¼è¿”å›å“åº”
```

## ğŸ“¦ æ¨¡å—ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    API Layer        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Service Layer     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository Layer   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Infrastructure Layer â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¨ªå‘ä¾èµ–:
Core â† â†’ æ‰€æœ‰å±‚
Models â† â†’ Service, Repository
```

**ä¾èµ–è§„åˆ™**:
- âœ… ä¸Šå±‚å¯ä¾èµ–ä¸‹å±‚
- âŒ ä¸‹å±‚ä¸å¯ä¾èµ–ä¸Šå±‚
- âœ… åŒå±‚æ¨¡å—é—´ä½è€¦åˆ
- âœ… é€šè¿‡æ¥å£/æŠ½è±¡ä¾èµ–

## ğŸ” å®‰å…¨æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å®‰å…¨å±‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¤è¯: JWT Token                     â”‚
â”‚  æˆæƒ: RBAC (Role-Based)             â”‚
â”‚  åŠ å¯†: Bcrypt (å¯†ç )                 â”‚
â”‚  éªŒè¯: Pydantic (è¾“å…¥)                â”‚
â”‚  é™æµ: Redis (Rate Limiting)         â”‚
â”‚  CORS: ç™½åå•é…ç½®                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. æ•°æ®åº“å±‚
- è¿æ¥æ± ç®¡ç† (SQLAlchemy Pool)
- æŸ¥è¯¢ä¼˜åŒ– (ç´¢å¼•, N+1)
- å¼‚æ­¥æ“ä½œ (asyncpg)

### 2. ç¼“å­˜å±‚
- Redisç¼“å­˜ (çƒ­æ•°æ®)
- åº”ç”¨çº§ç¼“å­˜ (LRU)
- HTTPç¼“å­˜ (ETag)

### 3. åº”ç”¨å±‚
- å¼‚æ­¥IO (asyncio)
- æ‰¹å¤„ç† (Batch Processing)
- æµå¼å“åº” (Streaming)

### 4. å¤–éƒ¨æœåŠ¡
- è¿æ¥å¤ç”¨ (httpx)
- é‡è¯•æœºåˆ¶ (tenacity)
- ç†”æ–­å™¨ (Circuit Breaker)

## ğŸ§ª æµ‹è¯•ç­–ç•¥

```
tests/
â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_parser.py
â”‚   â”œâ”€â”€ test_chunker.py
â”‚   â””â”€â”€ test_embeddings.py
â”œâ”€â”€ integration/       # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_api.py
â”‚   â”œâ”€â”€ test_db.py
â”‚   â””â”€â”€ test_vectordb.py
â””â”€â”€ fixtures/          # æµ‹è¯•æ•°æ®
    â”œâ”€â”€ sample.pdf
    â””â”€â”€ test_data.json
```

**æµ‹è¯•é‡‘å­—å¡”**:
- 70% å•å…ƒæµ‹è¯• (å¿«é€Ÿ, éš”ç¦»)
- 20% é›†æˆæµ‹è¯• (çœŸå®åœºæ™¯)
- 10% E2Eæµ‹è¯• (å…³é”®æµç¨‹)

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—çº§åˆ«
- **DEBUG**: å¼€å‘è°ƒè¯•ä¿¡æ¯
- **INFO**: æ­£å¸¸è¿è¡Œæ—¥å¿—
- **WARNING**: è­¦å‘Šä¿¡æ¯
- **ERROR**: é”™è¯¯ä¿¡æ¯
- **CRITICAL**: ä¸¥é‡é”™è¯¯

### æ—¥å¿—æ ¼å¼
```json
{
  "timestamp": "2024-01-01T10:00:00.000Z",
  "level": "INFO",
  "logger": "app.services.pdf.parser",
  "function": "parse_document",
  "line": 42,
  "message": "PDF parsing started",
  "context": {
    "document_id": "123e4567-...",
    "file_size": 1048576
  }
}
```

### ç›‘æ§æŒ‡æ ‡
- è¯·æ±‚å»¶è¿Ÿ (P50, P95, P99)
- é”™è¯¯ç‡
- ååé‡
- æ•°æ®åº“è¿æ¥æ•°
- ç¼“å­˜å‘½ä¸­ç‡

## ğŸ”§ é…ç½®ç®¡ç†

### ç¯å¢ƒå±‚æ¬¡
```
.env.local          # æœ¬åœ°è¦†ç›–(ä¸æäº¤)
.env.development    # å¼€å‘ç¯å¢ƒ
.env.staging        # æµ‹è¯•ç¯å¢ƒ
.env.production     # ç”Ÿäº§ç¯å¢ƒ
```

### é…ç½®ä¼˜å…ˆçº§
```
ç¯å¢ƒå˜é‡ > .env.local > .env.{environment} > é»˜è®¤å€¼
```

---

**æ–‡æ¡£ç»´æŠ¤è€…**: IntelliPDF Architecture Team  
**æœ€åæ›´æ–°**: 2024-01-01  
**ç‰ˆæœ¬**: 1.0
