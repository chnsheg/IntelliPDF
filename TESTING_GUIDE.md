# 🧪 IntelliPDF v2.0 功能测试指南

> **测试目的**: 验证所有升级功能正常工作  
> **测试环境**: http://localhost:5174  
> **测试时间**: ~15分钟

---

## 📋 测试清单

### ✅ 必测功能 (Critical)
- [ ] 页面加载和路由导航
- [ ] PDF文档上传
- [ ] PDF阅读器功能
- [ ] AI聊天功能
- [ ] 响应式布局

### 🎨 视觉测试 (Visual)
- [ ] 动画效果流畅
- [ ] 渐变色彩正确
- [ ] 毛玻璃效果显示
- [ ] 深色模式切换

---

## 🎯 详细测试步骤

### 1️⃣ 首页测试 (HomePage)

#### 测试地址
```
http://localhost:5174/
```

#### 测试项目
- [ ] **渐变英雄区** - 背景渐变正确显示
- [ ] **统计卡片** - 4个卡片显示独特渐变
- [ ] **入场动画** - 卡片阶梯式淡入
- [ ] **悬停效果** - 鼠标悬停卡片放大
- [ ] **文档网格** - 文档卡片显示正确
- [ ] **空状态** - 无文档时显示插图

#### 预期结果
```
✅ 页面顶部显示蓝紫渐变背景
✅ 4个统计卡片分别显示不同颜色渐变边框
✅ 卡片依次出现 (100ms延迟)
✅ 悬停时卡片缩放至110%
✅ 文档显示渐变图标和状态徽章
✅ 空状态显示"上传第一个文档"按钮
```

---

### 2️⃣ 导航测试 (Header & Sidebar)

#### Header测试
- [ ] **搜索框** - 显示 Ctrl+K 提示
- [ ] **通知中心** - 点击显示下拉面板
- [ ] **通知徽章** - 红点脉冲动画
- [ ] **主题切换** - 日/夜图标旋转动画
- [ ] **用户菜单** - 渐变头像 + 下拉菜单
- [ ] **上传按钮** - 渐变背景 + 图标弹跳

#### Sidebar测试
- [ ] **导航项渐变** - 每项显示独特渐变色
- [ ] **激活状态** - 当前页高亮显示
- [ ] **悬停效果** - 5%渐变叠加
- [ ] **项目描述** - 每项下方显示说明
- [ ] **存储进度条** - 渐变进度条动画
- [ ] **移动端** - 小屏幕显示遮罩层

#### 预期结果
```
✅ Header显示毛玻璃效果
✅ 搜索框右侧显示 "Ctrl+K"
✅ 点击通知图标显示3条通知
✅ 红色徽章持续脉冲动画
✅ 切换主题图标旋转180度
✅ Sidebar每个导航项独特渐变
✅ Home: 蓝-青渐变
✅ Upload: 紫-粉渐变  
✅ Documents: 绿-翠绿渐变
✅ Knowledge Graph: 橙-黄渐变
```

---

### 3️⃣ 上传页面测试 (UploadPage)

#### 测试地址
```
http://localhost:5174/upload
```

#### 测试项目
- [ ] **特性卡片** - 3个毛玻璃卡片显示
- [ ] **拖拽区域** - 虚线边框显示
- [ ] **拖拽反馈** - 拖动文件时边框变色
- [ ] **拖拽背景** - 显示渐变背景
- [ ] **图标动画** - 上传图标弹跳
- [ ] **文件选择** - 点击选择文件
- [ ] **Toast通知** - 文件选择后显示
- [ ] **进度条** - 上传时显示动画
- [ ] **成功跳转** - 上传成功1秒后跳转

#### 操作步骤
```
1. 访问上传页面
2. 拖动PDF文件到拖拽区域
3. 观察边框变色和背景渐变
4. 松开鼠标选择文件
5. 查看Toast通知
6. 观察进度条动画
7. 等待上传完成
8. 确认1秒后跳转到文档页
```

#### 预期结果
```
✅ 页面显示3个特性卡片 (快速/分块/历史)
✅ 拖拽区域显示虚线边框
✅ 拖动文件时边框变蓝色
✅ 背景显示淡蓝色渐变
✅ 上传图标持续弹跳
✅ 选择文件后显示绿色Toast
✅ 进度条从0%到100%闪光动画
✅ 成功后显示"上传成功"Toast
✅ 1秒后自动跳转
```

---

### 4️⃣ PDF阅读器测试 (PDFViewer) ⭐ 重点

#### 测试地址
```
打开任意PDF文档
```

#### 工具栏测试
- [ ] **毛玻璃效果** - 工具栏半透明模糊
- [ ] **翻页按钮** - 上一页/下一页禁用状态
- [ ] **页码输入** - 输入跳转到指定页
- [ ] **缩放按钮** - 缩小/放大/重置
- [ ] **缩放显示** - 百分比显示和更新
- [ ] **旋转按钮** - 90度旋转 + 图标动画
- [ ] **书签按钮** - 收藏/取消当前页
- [ ] **书签图标** - 黄色填充动画
- [ ] **缩略图按钮** - 切换侧边栏
- [ ] **深色模式** - 切换夜间阅读
- [ ] **全屏按钮** - 进入/退出全屏
- [ ] **下载按钮** - 下载PDF文件

#### 缩略图侧边栏测试
- [ ] **侧边栏动画** - 从左滑入
- [ ] **缩略图显示** - 所有页面缩略图
- [ ] **页码标签** - 右下角页码
- [ ] **当前页高亮** - 蓝色边框
- [ ] **书签显示** - 已收藏页显示黄色书签
- [ ] **点击跳转** - 点击缩略图跳转

#### 深色模式测试
- [ ] **背景颜色** - 切换到深灰色
- [ ] **工具栏** - 深色毛玻璃
- [ ] **按钮颜色** - 浅色图标
- [ ] **PDF亮度** - 降低10%亮度
- [ ] **图标状态** - 月亮/太阳图标

#### 移动端测试
- [ ] **浮动按钮** - 右下角显示缩放按钮
- [ ] **毛玻璃效果** - 按钮半透明
- [ ] **放大/缩小** - 功能正常

#### 操作步骤
```
1. 打开任意PDF文档
2. 点击"上一页/下一页"按钮测试翻页
3. 在页码输入框输入页码跳转
4. 点击"放大/缩小"按钮测试缩放
5. 点击百分比重置为100%
6. 点击"旋转"按钮旋转页面
7. 点击"书签"按钮收藏当前页
8. 再次点击取消收藏
9. 点击"缩略图"按钮打开侧边栏
10. 观察当前页高亮显示
11. 在缩略图上看到书签图标
12. 点击任意缩略图跳转
13. 点击"深色模式"切换主题
14. 观察背景和工具栏颜色变化
15. 点击"全屏"按钮进入全屏
16. 按Esc退出全屏
17. 调整浏览器宽度测试响应式
18. 观察移动端浮动按钮
```

#### 预期结果
```
✅ 工具栏显示白色半透明毛玻璃
✅ 第一页时"上一页"按钮40%透明度
✅ 最后一页时"下一页"按钮40%透明度
✅ 页码输入跳转立即生效
✅ 缩放范围50%-300%
✅ 百分比显示动态更新
✅ 点击百分比重置为100%
✅ 旋转按钮图标旋转90度
✅ 页面内容旋转90度
✅ 书签按钮从空心变实心
✅ 书签按钮黄色背景
✅ 缩略图侧边栏从左滑入
✅ 所有页面显示缩略图
✅ 当前页蓝色边框高亮
✅ 已收藏页右上角黄色书签
✅ 点击缩略图立即跳转
✅ 深色模式背景变深灰
✅ 工具栏变深色毛玻璃
✅ 按钮图标变浅色
✅ PDF亮度降低
✅ 图标从太阳变月亮
✅ 全屏覆盖整个屏幕
✅ 移动端显示浮动按钮
✅ 浮动按钮半透明毛玻璃
```

---

### 5️⃣ AI聊天测试 (ChatPanel) ⭐ 重点

#### 测试地址
```
文档查看器页面 - 聊天面板
```

#### 欢迎界面测试
- [ ] **AI图标** - 渐变圆角方块
- [ ] **弹跳动画** - 图标柔和弹跳
- [ ] **欢迎标题** - "你好！我是AI助手"
- [ ] **快速问题** - 3个问题卡片
- [ ] **卡片悬停** - 边框变色 + 阴影

#### 消息发送测试
- [ ] **输入框** - 聚焦时蓝色边框
- [ ] **发送按钮** - 渐变背景
- [ ] **按钮禁用** - 空内容时灰色
- [ ] **加载动画** - DotsLoader + "正在思考中..."
- [ ] **快速问题** - 点击填充到输入框

#### 消息气泡测试
- [ ] **用户消息** - 蓝紫渐变气泡
- [ ] **AI消息** - 白色卡片 + 边框
- [ ] **头像渐变** - 用户/AI不同渐变
- [ ] **头像悬停** - 放大110%
- [ ] **气泡悬停** - 阴影加深
- [ ] **圆角** - rounded-2xl大圆角
- [ ] **时间戳** - 灰色小字

#### Markdown渲染测试
- [ ] **标题** - h1/h2/h3样式
- [ ] **列表** - 有序/无序列表
- [ ] **粗体/斜体** - 文本样式
- [ ] **代码块** - 深色背景 + 语法高亮
- [ ] **行内代码** - 灰色背景 + 蓝色文字

#### 代码块功能测试
- [ ] **悬停显示** - 复制按钮出现
- [ ] **复制按钮** - 右上角灰色按钮
- [ ] **复制功能** - 点击复制代码
- [ ] **成功反馈** - 按钮变绿色 + ✓图标
- [ ] **2秒恢复** - 自动恢复原状

#### 来源卡片测试
- [ ] **卡片样式** - 白色圆角卡片
- [ ] **页码显示** - "📄 第X页"
- [ ] **相似度徽章** - 颜色编码
  - [ ] >80%: 绿色徽章
  - [ ] >60%: 蓝色徽章
  - [ ] 其他: 灰色徽章
- [ ] **外链图标** - 右侧灰色图标
- [ ] **悬停效果** - 边框变蓝 + 阴影
- [ ] **内容预览** - 2行省略

#### 操作步骤
```
1. 打开文档查看器
2. 观察欢迎界面显示
3. 查看AI图标弹跳动画
4. 点击第一个快速问题
5. 观察输入框填充内容
6. 点击"发送"按钮
7. 观察加载动画显示
8. 等待AI回复
9. 查看消息气泡渐变
10. 悬停头像观察放大
11. 悬停气泡观察阴影
12. 查看Markdown渲染效果
13. 找到代码块悬停
14. 点击复制按钮
15. 查看按钮变绿色
16. 粘贴验证代码复制
17. 查看来源卡片显示
18. 悬停来源卡片
19. 检查相似度颜色
20. 发送多条消息测试滚动
```

#### 预期结果
```
✅ AI图标渐变色正确
✅ 图标持续柔和弹跳
✅ 显示3个快速问题卡片
✅ 点击问题填充到输入框
✅ 输入框聚焦时蓝色发光边框
✅ 发送按钮渐变 (蓝到紫)
✅ 空内容时按钮灰色禁用
✅ 加载时显示3个跳动圆点
✅ 用户消息蓝紫渐变气泡
✅ AI消息白色卡片
✅ 用户头像蓝紫渐变背景
✅ AI头像浅色渐变背景
✅ 悬停头像放大到110%
✅ 悬停气泡阴影xl
✅ Markdown正确渲染
✅ 代码块深色背景
✅ 语法高亮正确
✅ 悬停代码块显示复制按钮
✅ 点击复制到剪贴板
✅ 按钮变绿色 + ✓图标
✅ 2秒后恢复灰色
✅ 来源卡片白色圆角
✅ 相似度>80%绿色徽章
✅ 相似度>60%蓝色徽章
✅ 悬停卡片边框变蓝
✅ 外链图标显示
✅ 消息自动滚动到底部
```

---

### 6️⃣ 响应式测试

#### 测试断点
```
Mobile:   < 640px
Tablet:   640px - 1024px
Desktop:  > 1024px
```

#### 测试项目
- [ ] **调整窗口** - 平滑响应
- [ ] **移动端Header** - 简化布局
- [ ] **移动端Sidebar** - 遮罩层显示
- [ ] **浮动按钮** - PDF阅读器显示
- [ ] **卡片布局** - 自动换行
- [ ] **触摸交互** - 点击区域足够大

---

## 🐛 常见问题排查

### 问题1: 动画不流畅
```
检查项:
- [ ] 浏览器硬件加速是否开启
- [ ] CPU占用是否过高
- [ ] 动画元素是否过多
```

### 问题2: 渐变色显示异常
```
检查项:
- [ ] Tailwind CSS是否正确加载
- [ ] 浏览器是否支持CSS渐变
- [ ] 颜色类名是否正确
```

### 问题3: Toast通知不显示
```
检查项:
- [ ] ToastProvider是否包裹App
- [ ] useToast hook是否正确使用
- [ ] 控制台是否有错误
```

### 问题4: PDF加载失败
```
检查项:
- [ ] PDF文件是否存在
- [ ] 文件URL是否正确
- [ ] PDF.js worker是否加载
- [ ] 控制台错误信息
```

---

## ✅ 测试完成检查

### 所有功能正常 ✅
```
恭喜！升级成功完成，所有功能正常工作。

建议下一步:
1. 进行性能优化
2. 添加更多测试用例
3. 收集用户反馈
4. 持续迭代改进
```

### 发现问题 ⚠️
```
请记录以下信息:
- 问题描述
- 复现步骤
- 预期结果
- 实际结果
- 浏览器版本
- 控制台错误

然后提交Issue或联系开发团队。
```

---

## 📊 测试报告模板

```markdown
# 测试报告

**测试人员**: [姓名]
**测试时间**: [日期]
**测试环境**: [浏览器版本]

## 测试结果

### 通过测试 ✅
- [x] 首页加载
- [x] PDF上传
- [x] ...

### 失败测试 ❌
- [ ] 问题描述...

### 需要改进 ⚠️
- 建议...

## 总体评分
- 功能完整性: ⭐⭐⭐⭐⭐
- 视觉效果: ⭐⭐⭐⭐⭐
- 交互体验: ⭐⭐⭐⭐⭐
- 性能表现: ⭐⭐⭐⭐☆
- 响应式: ⭐⭐⭐⭐⭐

## 备注
[其他说明]
```

---

*祝测试顺利！如有问题请查看 UPGRADE_COMPLETE_REPORT.md* 🎉
